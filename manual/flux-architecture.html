<!doctype html>
<html class="no-js" lang=""><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Flux Architecture - Inkdrop</title><meta name="description" content="The Notebook for Hackers"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="shortcut icon" href="//inkdrop-prod.s3.amazonaws.com/site/favicon@2x.png"/><link rel="mask-icon" href="//inkdrop-prod.s3.amazonaws.com/site/favicon.svg" color="rgb(17, 20, 24)"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather:300,400,700|Lato:300,400"/><link rel="stylesheet" href="//fonts.googleapis.com/earlyaccess/notosansjapanese.css"/><script src="/app.js?1477373440042"></script></head><body><div id="app"><div data-reactid=".o2tqaykie6" data-react-checksum="-151171246"><header class="app--header" data-reactid=".o2tqaykie6.0"><div class="ui container" data-reactid=".o2tqaykie6.0.0"><div class="ui grid" data-reactid=".o2tqaykie6.0.0.0"><div class="row" data-reactid=".o2tqaykie6.0.0.0.0"><a href="https://inkdrop.info/" class="app--logo" data-reactid=".o2tqaykie6.0.0.0.0.0"><img src="//inkdrop-prod.s3.amazonaws.com/site/header-logo@2x.png" width="196" height="45" alt="logo" data-reactid=".o2tqaykie6.0.0.0.0.0.0"/></a><ul class="app--navbar reset-list un-select" data-reactid=".o2tqaykie6.0.0.0.0.1"><li data-reactid=".o2tqaykie6.0.0.0.0.1.0"><a href="/" data-reactid=".o2tqaykie6.0.0.0.0.1.0.0">Docs</a></li><li data-reactid=".o2tqaykie6.0.0.0.0.1.1"><a href="https://inkdrop.info/login" data-reactid=".o2tqaykie6.0.0.0.0.1.1.0">Login</a></li></ul></div></div></div></header><div class="ui container main-content" data-reactid=".o2tqaykie6.1"><div class="ui stackable grid" data-reactid=".o2tqaykie6.1.0"><div class="four wide column" data-reactid=".o2tqaykie6.1.0.0"><div data-reactid=".o2tqaykie6.1.0.0.0"><h3 class="ui header" data-reactid=".o2tqaykie6.1.0.0.0.0">Using Inkdrop</h3><ul class="article-list" data-reactid=".o2tqaykie6.1.0.0.0.1"><li data-reactid=".o2tqaykie6.1.0.0.0.1.0"><a href="/manual/quick-start-guide" class=" " data-reactid=".o2tqaykie6.1.0.0.0.1.0.0">Quick start guide</a></li><li data-reactid=".o2tqaykie6.1.0.0.0.1.1"><a href="/manual/basic-usage" class=" " data-reactid=".o2tqaykie6.1.0.0.0.1.1.0">Basic usage</a></li><li data-reactid=".o2tqaykie6.1.0.0.0.1.2"><a href="/manual/writing-note" class=" " data-reactid=".o2tqaykie6.1.0.0.0.1.2.0">Writing note</a></li><li data-reactid=".o2tqaykie6.1.0.0.0.1.3"><a href="/manual/searching-notes" class=" " data-reactid=".o2tqaykie6.1.0.0.0.1.3.0">Searching notes</a></li><li data-reactid=".o2tqaykie6.1.0.0.0.1.4"><a href="/manual/synchronizing-in-the-cloud" class=" " data-reactid=".o2tqaykie6.1.0.0.0.1.4.0">Synchronizing in the cloud</a></li><li data-reactid=".o2tqaykie6.1.0.0.0.1.5"><a href="/manual/extend-inkdrop-with-plugins" class=" " data-reactid=".o2tqaykie6.1.0.0.0.1.5.0">Extend Inkdrop with plugins</a></li><li data-reactid=".o2tqaykie6.1.0.0.0.1.6"><a href="/manual/recovering-your-password" class=" " data-reactid=".o2tqaykie6.1.0.0.0.1.6.0">Recovering your password</a></li><li data-reactid=".o2tqaykie6.1.0.0.0.1.7"><a href="/manual/working-behind-a-corporate-web-proxy" class=" " data-reactid=".o2tqaykie6.1.0.0.0.1.7.0">Working Behind Web Proxy</a></li></ul><h3 class="ui header" data-reactid=".o2tqaykie6.1.0.0.0.2">Hacking Inkdrop</h3><ul class="article-list" data-reactid=".o2tqaykie6.1.0.0.0.3"><li data-reactid=".o2tqaykie6.1.0.0.0.3.0"><a href="/manual/accessing-data-in-the-cloud" class=" " data-reactid=".o2tqaykie6.1.0.0.0.3.0.0">Accessing Data in the Cloud</a></li><li data-reactid=".o2tqaykie6.1.0.0.0.3.1"><a href="/manual/creating-a-theme" class=" " data-reactid=".o2tqaykie6.1.0.0.0.3.1.0">Creating a Theme</a></li><li data-reactid=".o2tqaykie6.1.0.0.0.3.2"><a href="/manual/plugin-word-count" class=" " data-reactid=".o2tqaykie6.1.0.0.0.3.2.0">Plugin: Word Count</a></li><li data-reactid=".o2tqaykie6.1.0.0.0.3.3"><a href="/manual/flux-architecture" class=" " data-reactid=".o2tqaykie6.1.0.0.0.3.3.0">Flux Architecture</a></li><li data-reactid=".o2tqaykie6.1.0.0.0.3.4"><a href="/manual/accessing-the-local-database" class=" " data-reactid=".o2tqaykie6.1.0.0.0.3.4.0">Accessing the Local Database</a></li><li data-reactid=".o2tqaykie6.1.0.0.0.3.5"><a href="/manual/customizing-the-editor" class=" " data-reactid=".o2tqaykie6.1.0.0.0.3.5.0">Customizing the Editor</a></li></ul><h3 class="ui header" data-reactid=".o2tqaykie6.1.0.0.0.4">Appendix</h3><ul class="article-list" data-reactid=".o2tqaykie6.1.0.0.0.5"><li data-reactid=".o2tqaykie6.1.0.0.0.5.0"><a href="/manual/markdown-cheatsheet" class=" " data-reactid=".o2tqaykie6.1.0.0.0.5.0.0">Markdown Cheatsheet</a></li></ul></div></div><div class="twelve wide column doc-content" data-reactid=".o2tqaykie6.1.0.1"><div class="ui breadcrumb" data-reactid=".o2tqaykie6.1.0.1.0"><a href="/" class="section" data-reactid=".o2tqaykie6.1.0.1.0.0">Docs</a><i class="right chevron icon divider" data-reactid=".o2tqaykie6.1.0.1.0.1"></i><a href="/manual/" class="section" data-reactid=".o2tqaykie6.1.0.1.0.2">Inkdrop Manual</a><i class="right chevron icon divider" data-reactid=".o2tqaykie6.1.0.1.0.3"></i><div class="active section" data-reactid=".o2tqaykie6.1.0.1.0.4">Flux Architecture</div></div><div class="ui divider" data-reactid=".o2tqaykie6.1.0.1.1"></div><h1 data-reactid=".o2tqaykie6.1.0.1.2:0">Flux Architecture</h1><div data-reactid=".o2tqaykie6.1.0.1.2:1"><p>Inkdrop uses <a href="http://alt.js.org/">Alt</a>, a slim implementation of Facebook&#39;s <a href="https://facebook.github.io/flux/">Flux Application Architecture</a> to coordinate the movement of data through the application. Flux is extremely well suited for applications that support third-party extension because it emphasizes loose coupling and well defined interfaces between components. It enforces:</p>
<ul>
<li>Uni-directional data flow</li>
<li>Loose coupling between components</li>
</ul>
<p>For more information about the Flux pattern, check out <a href="https://facebook.github.io/flux/docs/overview.html#structure-and-data-flow">this diagram</a>.</p>
<p>You can access a global instance of Alt via <code>inkdrop.flux</code>.
There are several core stores in the application:</p>
<ul>
<li><strong><a href="/reference/editor-store">EditorStore</a></strong> - Manages current editing note document.</li>
<li><strong>NoteListBarStore</strong> - Manages states of the note list bar.</li>
<li><strong>BookListBarStore</strong> - Manages states of the book list bar.</li>
<li><strong>BookListStore</strong> - Manages books currently available.</li>
<li><strong>TagListBarStore</strong> - Manages states of hte tag list bar.</li>
<li><strong>TagListStore</strong> - Manages tags currently available.</li>
<li><strong>SessionStore</strong> - Manages current session status of the user.</li>
</ul>
<h2><a name="actions" class="anchor" href="#actions"><i class="linkify icon"></i></a>Actions</h2><p>In Flux applications, views fire Actions, which anyone in the application can subscribe to. Typically, Stores listen to actions to perform business logic and trigger updates to their corresponding views. For example, when you click &quot;Create New Note&quot; button on the top right corner of the note list bar, the React component for the button fires <code>EditorActions::create</code>. The <code>EditorStore</code> listens to this action and opens a newly created note.</p>
<p>This approach means that your plugins can fire existing Actions, like <code>EditorActions::update</code>, or observe actions to add functionality. You can also define your own actions for use within your plugin with <code>inkdrop.flux</code>.</p>
</div><div data-reactid=".o2tqaykie6.1.0.1.3"><h2 data-reactid=".o2tqaykie6.1.0.1.3.0">Can you help us improve these docs?</h2><p data-reactid=".o2tqaykie6.1.0.1.3.1"><span data-reactid=".o2tqaykie6.1.0.1.3.1.0">The source of these docs is </span><a href="https://github.com/inkdropapp/docs" data-reactid=".o2tqaykie6.1.0.1.3.1.1">here</a><span data-reactid=".o2tqaykie6.1.0.1.3.1.2"> on GitHub. If you see a way these docs can be improved, please fork us!</span></p></div></div></div></div><footer class="app--footer" data-reactid=".o2tqaykie6.2"><div class="app--footer-content ui container" data-reactid=".o2tqaykie6.2.0"><div class="ui stackable grid" data-reactid=".o2tqaykie6.2.0.0"><div class="thirteen wide column links" data-reactid=".o2tqaykie6.2.0.0.0"><ul class="links" data-reactid=".o2tqaykie6.2.0.0.0.0"><li data-reactid=".o2tqaykie6.2.0.0.0.0.0"><a href="/terms" data-reactid=".o2tqaykie6.2.0.0.0.0.0.0">Terms of Use</a></li><li data-reactid=".o2tqaykie6.2.0.0.0.0.1"><a href="/privacy" data-reactid=".o2tqaykie6.2.0.0.0.0.1.0">Privacy Policy</a></li><li data-reactid=".o2tqaykie6.2.0.0.0.0.2"><a href="/faq" data-reactid=".o2tqaykie6.2.0.0.0.0.2.0">FAQ</a></li><li data-reactid=".o2tqaykie6.2.0.0.0.0.3"><a href="mailto:inkdrop@pkpk.info" data-reactid=".o2tqaykie6.2.0.0.0.0.3.0">Contact</a></li><li data-reactid=".o2tqaykie6.2.0.0.0.0.4"><a href="https://twitter.com/inkdrop_app" target="_blank" data-reactid=".o2tqaykie6.2.0.0.0.0.4.0">Twitter</a></li><li data-reactid=".o2tqaykie6.2.0.0.0.0.5"><a href="https://medium.com/@inkdrop" target="_blank" data-reactid=".o2tqaykie6.2.0.0.0.0.5.0">Blog</a></li></ul></div><div class="three wide column text-left" data-reactid=".o2tqaykie6.2.0.0.1"><a href="http://odoruinu.net/" target="_blank" data-reactid=".o2tqaykie6.2.0.0.1.0">Â© Takuya Matsuyama</a></div></div></div></footer></div></div><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='https://www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create','UA-58709134-3','auto');</script></body></html>