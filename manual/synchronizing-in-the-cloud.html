<!doctype html>
<html class="no-js" lang=""><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Synchronizing in the Cloud - Inkdrop</title><meta name="description" content="The Notebook for Hackers"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="shortcut icon" href="//inkdrop-prod.s3.amazonaws.com/site/favicon@2x.png"/><link rel="mask-icon" href="//inkdrop-prod.s3.amazonaws.com/site/favicon.svg" color="rgb(17, 20, 24)"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather:300,400,700|Lato:300,400"/><link rel="stylesheet" href="//fonts.googleapis.com/earlyaccess/notosansjapanese.css"/><script src="/app.js?1471604861444"></script></head><body><div id="app"><div data-reactid=".1hcdbl3rpuy" data-react-checksum="1087868297"><header class="app--header" data-reactid=".1hcdbl3rpuy.0"><div class="ui container" data-reactid=".1hcdbl3rpuy.0.0"><div class="ui grid" data-reactid=".1hcdbl3rpuy.0.0.0"><div class="row" data-reactid=".1hcdbl3rpuy.0.0.0.0"><a href="https://inkdrop.info/" class="app--logo" data-reactid=".1hcdbl3rpuy.0.0.0.0.0"><img src="//inkdrop-prod.s3.amazonaws.com/site/header-logo@2x.png" width="196" height="45" alt="logo" data-reactid=".1hcdbl3rpuy.0.0.0.0.0.0"/></a><ul class="app--navbar reset-list un-select" data-reactid=".1hcdbl3rpuy.0.0.0.0.1"><li data-reactid=".1hcdbl3rpuy.0.0.0.0.1.0"><a href="/" data-reactid=".1hcdbl3rpuy.0.0.0.0.1.0.0">Docs</a></li><li data-reactid=".1hcdbl3rpuy.0.0.0.0.1.1"><a href="https://inkdrop.info/login" data-reactid=".1hcdbl3rpuy.0.0.0.0.1.1.0">Login</a></li></ul></div></div></div></header><div class="ui container main-content" data-reactid=".1hcdbl3rpuy.1"><div class="ui stackable grid" data-reactid=".1hcdbl3rpuy.1.0"><div class="four wide column" data-reactid=".1hcdbl3rpuy.1.0.0"><div data-reactid=".1hcdbl3rpuy.1.0.0.0"><h3 class="ui header" data-reactid=".1hcdbl3rpuy.1.0.0.0.0">Using Inkdrop</h3><ul class="article-list" data-reactid=".1hcdbl3rpuy.1.0.0.0.1"><li data-reactid=".1hcdbl3rpuy.1.0.0.0.1.0"><a href="/manual/quick-start-guide" class=" " data-reactid=".1hcdbl3rpuy.1.0.0.0.1.0.0">Quick start guide</a></li><li data-reactid=".1hcdbl3rpuy.1.0.0.0.1.1"><a href="/manual/basic-usage" class=" " data-reactid=".1hcdbl3rpuy.1.0.0.0.1.1.0">Basic usage</a></li><li data-reactid=".1hcdbl3rpuy.1.0.0.0.1.2"><a href="/manual/writing-note" class=" " data-reactid=".1hcdbl3rpuy.1.0.0.0.1.2.0">Writing note</a></li><li data-reactid=".1hcdbl3rpuy.1.0.0.0.1.3"><a href="/manual/searching-notes" class=" " data-reactid=".1hcdbl3rpuy.1.0.0.0.1.3.0">Searching notes</a></li><li data-reactid=".1hcdbl3rpuy.1.0.0.0.1.4"><a href="/manual/synchronizing-in-the-cloud" class=" " data-reactid=".1hcdbl3rpuy.1.0.0.0.1.4.0">Synchronizing in the cloud</a></li><li data-reactid=".1hcdbl3rpuy.1.0.0.0.1.5"><a href="/manual/extend-inkdrop-with-plugins" class=" " data-reactid=".1hcdbl3rpuy.1.0.0.0.1.5.0">Extend Inkdrop with plugins</a></li></ul><h3 class="ui header" data-reactid=".1hcdbl3rpuy.1.0.0.0.2">Hacking Inkdrop</h3><ul class="article-list" data-reactid=".1hcdbl3rpuy.1.0.0.0.3"><li data-reactid=".1hcdbl3rpuy.1.0.0.0.3.0"><a href="/manual/accessing-data-in-the-cloud" class=" " data-reactid=".1hcdbl3rpuy.1.0.0.0.3.0.0">Accessing Data in the Cloud</a></li><li data-reactid=".1hcdbl3rpuy.1.0.0.0.3.1"><a href="/manual/creating-a-theme" class=" " data-reactid=".1hcdbl3rpuy.1.0.0.0.3.1.0">Creating a Theme</a></li><li data-reactid=".1hcdbl3rpuy.1.0.0.0.3.2"><a href="/manual/plugin-word-count" class=" " data-reactid=".1hcdbl3rpuy.1.0.0.0.3.2.0">Plugin: Word Count</a></li><li data-reactid=".1hcdbl3rpuy.1.0.0.0.3.3"><a href="/manual/flux-architecture" class=" " data-reactid=".1hcdbl3rpuy.1.0.0.0.3.3.0">Flux Architecture</a></li><li data-reactid=".1hcdbl3rpuy.1.0.0.0.3.4"><a href="/manual/accessing-the-local-database" class=" " data-reactid=".1hcdbl3rpuy.1.0.0.0.3.4.0">Accessing the Local Database</a></li><li data-reactid=".1hcdbl3rpuy.1.0.0.0.3.5"><a href="/manual/customizing-the-editor" class=" " data-reactid=".1hcdbl3rpuy.1.0.0.0.3.5.0">Customizing the Editor</a></li></ul></div></div><div class="twelve wide column doc-content" data-reactid=".1hcdbl3rpuy.1.0.1"><div class="ui breadcrumb" data-reactid=".1hcdbl3rpuy.1.0.1.0"><a href="/" class="section" data-reactid=".1hcdbl3rpuy.1.0.1.0.0">Docs</a><i class="right chevron icon divider" data-reactid=".1hcdbl3rpuy.1.0.1.0.1"></i><a href="/manual/" class="section" data-reactid=".1hcdbl3rpuy.1.0.1.0.2">Inkdrop Manual</a><i class="right chevron icon divider" data-reactid=".1hcdbl3rpuy.1.0.1.0.3"></i><div class="active section" data-reactid=".1hcdbl3rpuy.1.0.1.0.4">Synchronizing in the Cloud</div></div><h1 data-reactid=".1hcdbl3rpuy.1.0.1.1:0">Synchronizing in the Cloud</h1><div data-reactid=".1hcdbl3rpuy.1.0.1.1:1"><p>Inkdrop lets you sync notes across multiple computers via Cloud.
By default, Inkdrop stores your data in Inkdrop sync server.
You can configure synchronizations in the Preferences like this:</p>
<p><img class="ui image" src="/manual/05-sync_preferences.png" title="" alt="Sync Preferences" /></p>
<p>There are three sync options:</p>
<ul>
<li><strong>Don&#39;t Sync</strong> - Store Inkdrop data only in this computer</li>
<li><strong>Inkdrop Sync Server</strong> - Sync with Inkdrop&#39;s own service</li>
<li><strong>Advanced (CouchDB)</strong> - Sync with your own compatible server</li>
</ul>
<h2><a name="how-to-set-up-your-own-sync-server" class="anchor" href="#how-to-set-up-your-own-sync-server"><i class="linkify icon"></i></a>How to set up your own sync server</h2><p>Inkdrop lets you store your notes in your own database compatible with <a href="http://couchdb.apache.org/">CouchDB</a> API instead of Inkdrop&#39;s own service.
CouchDB is just another open-source NoSQL database so you can deploy it on your environment for free. See CouchDB&#39;s <a href="http://docs.couchdb.org/en/1.6.1/install/index.html">installation guide</a> for more informations.
Using DBaaS instead of operating database by yourself is good choice. For instance, <a href="https://cloudant.com/">Cloudant</a> is one of fully-managed DBaaS providers.</p>
<div class="ui warning message">
  <strong>WARNING</strong>: Use this feature at your own risk. Inkdrop itself doesn&#39;t protect data from other people on your server. To protect your data, read <a href='#optional-security'>Security</a> section at the bottom of this page.
</div>

<h3><a name="create-a-database" class="anchor" href="#create-a-database"><i class="linkify icon"></i></a>Create a database</h3><p>Once you got your CouchDB server, let&#39;s create a database for storing your notes.
You need only one database for Inkdrop. For example, run below command to create a database:</p>
<pre><code class="lang-bash">&gt; curl -X PUT http://localhost:5984/my-inkdrop-notes
</code></pre>
<blockquote>
<p>NOTE: If you are running CouchDB not on localhost and port 5984 (default), replace <code>localhost:5984</code> to your server address and port.</p>
</blockquote>
<p>Retrieving the list of databases shows some useful results this time:</p>
<pre><code class="lang-bash">&gt; curl -X GET http://127.0.0.1:5984/_all_dbs
[<span class="hljs-string">"my-inkdrop-notes"</span>]
</code></pre>
<p>Return to the Inkdrop sync preferences, you can input the URL to your database to the <strong>Address</strong> section:</p>
<pre><code>http://localhost:5984/my-inkdrop-notes
</code></pre><p><img class="ui image" src="/manual/05-sync-custom-server.png" title="" alt="Sync with custom server" /></p>
<p>Then, push the <strong>Apply</strong> button.</p>
<p>Please read <a href="http://guide.couchdb.org/draft/tour.html">CouchDB&#39;s tutorial</a> for more information.</p>
<h3><a name="optional-security" class="anchor" href="#optional-security"><i class="linkify icon"></i></a>Optional: Security</h3><p>As you may know, CouchDB is running with the Admin Party by default. It means Everybody has privileges to do anything.
Please read the <a href="http://guide.couchdb.org/draft/security.html">documentation</a>.
To keep your notes secure, we recommend that you create an admin user with a username and password as your credentials.</p>
<p>Now let’s create an admin user. We’ll call her <code>anna</code>, and her password is <code>secret</code>:</p>
<pre><code class="lang-bash">&gt; curl -X PUT http://127.0.0.1:5984/_config/admins/anna <span class="hljs-_">-d</span> <span class="hljs-string">'"secret"'</span>
</code></pre>
<p>Now we have an admin user named <code>anna</code>, let&#39;s give her an admin access to <code>my-inkdrop-notes</code>:</p>
<pre><code class="lang-bash">&gt; curl -X PUT http://127.0.0.1:5984/my-inkdrop-notes/_security <span class="hljs-_">-d</span> <span class="hljs-string">'{ "admins": { "names": [ "anna" ] } }'</span>
</code></pre>
<p>It restricts access from people without the valid credentials:</p>
<pre><code class="lang-bash">&gt; curl -X PUT http://127.0.0.1:5984/my-inkdrop-notes
{<span class="hljs-string">"error"</span>:<span class="hljs-string">"unauthorized"</span>,<span class="hljs-string">"reason"</span>:<span class="hljs-string">"You are not a server admin."</span>}
</code></pre>
<p>That looks about right. Now we try again with the correct credentials:</p>
<pre><code class="lang-bash">&gt; HOST=<span class="hljs-string">"http://anna:secret@127.0.0.1:5984"</span>
&gt; curl -X PUT <span class="hljs-variable">$HOST</span>/my-inkdrop-notes
{<span class="hljs-string">"ok"</span>:<span class="hljs-literal">true</span>}
</code></pre>
<p>Looks good!</p>
<p>Return to the Inkdrop sync preferences, you can input the URL to your database to the <strong>Address</strong> section:</p>
<pre><code>http://anna:secret@127.0.0.1:5984/my-inkdrop-notes
</code></pre><div class="ui warning message">
  <strong>WARNING</strong>: You can neither create design documents nor add attachments on the Inkdrop database.
</div>

</div><div data-reactid=".1hcdbl3rpuy.1.0.1.2"><h2 data-reactid=".1hcdbl3rpuy.1.0.1.2.0">Can you help us improve these docs?</h2><p data-reactid=".1hcdbl3rpuy.1.0.1.2.1"><span data-reactid=".1hcdbl3rpuy.1.0.1.2.1.0">The source of these docs is </span><a href="https://github.com/inkdropapp/docs" data-reactid=".1hcdbl3rpuy.1.0.1.2.1.1">here</a><span data-reactid=".1hcdbl3rpuy.1.0.1.2.1.2"> on GitHub. If you see a way these docs can be improved, please fork us!</span></p></div></div></div></div><footer class="app--footer" data-reactid=".1hcdbl3rpuy.2"><div class="app--footer-content ui container" data-reactid=".1hcdbl3rpuy.2.0"><div class="ui stackable grid" data-reactid=".1hcdbl3rpuy.2.0.0"><div class="three wide column text-left" data-reactid=".1hcdbl3rpuy.2.0.0.0"><a href="http://odoruinu.net/" target="_blank" data-reactid=".1hcdbl3rpuy.2.0.0.0.0">© Takuya Matsuyama</a></div><div class="thirteen wide column right aligned" data-reactid=".1hcdbl3rpuy.2.0.0.1"><ul class="links" data-reactid=".1hcdbl3rpuy.2.0.0.1.0"><li data-reactid=".1hcdbl3rpuy.2.0.0.1.0.0"><a href="/terms" data-reactid=".1hcdbl3rpuy.2.0.0.1.0.0.0">Terms of Use</a></li><li data-reactid=".1hcdbl3rpuy.2.0.0.1.0.1"><a href="/privacy" data-reactid=".1hcdbl3rpuy.2.0.0.1.0.1.0">Privacy Policy</a></li><li data-reactid=".1hcdbl3rpuy.2.0.0.1.0.2"><a href="/faq" data-reactid=".1hcdbl3rpuy.2.0.0.1.0.2.0">FAQ</a></li><li data-reactid=".1hcdbl3rpuy.2.0.0.1.0.3"><a href="mailto:inkdrop@pkpk.info" data-reactid=".1hcdbl3rpuy.2.0.0.1.0.3.0">Contact</a></li><li data-reactid=".1hcdbl3rpuy.2.0.0.1.0.4"><a href="https://twitter.com/inkdrop_app" target="_blank" data-reactid=".1hcdbl3rpuy.2.0.0.1.0.4.0">Twitter</a></li><li data-reactid=".1hcdbl3rpuy.2.0.0.1.0.5"><a href="https://medium.com/@inkdrop" target="_blank" data-reactid=".1hcdbl3rpuy.2.0.0.1.0.5.0">Blog</a></li></ul></div></div></div></footer></div></div><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='https://www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create','UA-58709134-3','auto');</script></body></html>