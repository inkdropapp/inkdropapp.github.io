<!doctype html>
<html class="no-js" lang=""><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Accessing Data in the Cloud - Inkdrop</title><meta name="description" content="The Notebook for Hackers"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="shortcut icon" href="//inkdrop-prod.s3.amazonaws.com/site/favicon@2x.png"/><link rel="mask-icon" href="//inkdrop-prod.s3.amazonaws.com/site/favicon.svg" color="rgb(17, 20, 24)"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather:300,400,700|Lato:300,400"/><link rel="stylesheet" href="//fonts.googleapis.com/earlyaccess/notosansjapanese.css"/><script src="/app.js?1474607376383"></script></head><body><div id="app"><div data-reactid=".12b67issbu2" data-react-checksum="-837897972"><header class="app--header" data-reactid=".12b67issbu2.0"><div class="ui container" data-reactid=".12b67issbu2.0.0"><div class="ui grid" data-reactid=".12b67issbu2.0.0.0"><div class="row" data-reactid=".12b67issbu2.0.0.0.0"><a href="https://inkdrop.info/" class="app--logo" data-reactid=".12b67issbu2.0.0.0.0.0"><img src="//inkdrop-prod.s3.amazonaws.com/site/header-logo@2x.png" width="196" height="45" alt="logo" data-reactid=".12b67issbu2.0.0.0.0.0.0"/></a><ul class="app--navbar reset-list un-select" data-reactid=".12b67issbu2.0.0.0.0.1"><li data-reactid=".12b67issbu2.0.0.0.0.1.0"><a href="/" data-reactid=".12b67issbu2.0.0.0.0.1.0.0">Docs</a></li><li data-reactid=".12b67issbu2.0.0.0.0.1.1"><a href="https://inkdrop.info/login" data-reactid=".12b67issbu2.0.0.0.0.1.1.0">Login</a></li></ul></div></div></div></header><div class="ui container main-content" data-reactid=".12b67issbu2.1"><div class="ui stackable grid" data-reactid=".12b67issbu2.1.0"><div class="four wide column" data-reactid=".12b67issbu2.1.0.0"><div data-reactid=".12b67issbu2.1.0.0.0"><h3 class="ui header" data-reactid=".12b67issbu2.1.0.0.0.0">Using Inkdrop</h3><ul class="article-list" data-reactid=".12b67issbu2.1.0.0.0.1"><li data-reactid=".12b67issbu2.1.0.0.0.1.0"><a href="/manual/quick-start-guide" class=" " data-reactid=".12b67issbu2.1.0.0.0.1.0.0">Quick start guide</a></li><li data-reactid=".12b67issbu2.1.0.0.0.1.1"><a href="/manual/basic-usage" class=" " data-reactid=".12b67issbu2.1.0.0.0.1.1.0">Basic usage</a></li><li data-reactid=".12b67issbu2.1.0.0.0.1.2"><a href="/manual/writing-note" class=" " data-reactid=".12b67issbu2.1.0.0.0.1.2.0">Writing note</a></li><li data-reactid=".12b67issbu2.1.0.0.0.1.3"><a href="/manual/searching-notes" class=" " data-reactid=".12b67issbu2.1.0.0.0.1.3.0">Searching notes</a></li><li data-reactid=".12b67issbu2.1.0.0.0.1.4"><a href="/manual/synchronizing-in-the-cloud" class=" " data-reactid=".12b67issbu2.1.0.0.0.1.4.0">Synchronizing in the cloud</a></li><li data-reactid=".12b67issbu2.1.0.0.0.1.5"><a href="/manual/extend-inkdrop-with-plugins" class=" " data-reactid=".12b67issbu2.1.0.0.0.1.5.0">Extend Inkdrop with plugins</a></li><li data-reactid=".12b67issbu2.1.0.0.0.1.6"><a href="/manual/recovering-your-password" class=" " data-reactid=".12b67issbu2.1.0.0.0.1.6.0">Recovering your password</a></li><li data-reactid=".12b67issbu2.1.0.0.0.1.7"><a href="/manual/working-behind-a-corporate-web-proxy" class=" " data-reactid=".12b67issbu2.1.0.0.0.1.7.0">Working Behind Web Proxy</a></li></ul><h3 class="ui header" data-reactid=".12b67issbu2.1.0.0.0.2">Hacking Inkdrop</h3><ul class="article-list" data-reactid=".12b67issbu2.1.0.0.0.3"><li data-reactid=".12b67issbu2.1.0.0.0.3.0"><a href="/manual/accessing-data-in-the-cloud" class=" " data-reactid=".12b67issbu2.1.0.0.0.3.0.0">Accessing Data in the Cloud</a></li><li data-reactid=".12b67issbu2.1.0.0.0.3.1"><a href="/manual/creating-a-theme" class=" " data-reactid=".12b67issbu2.1.0.0.0.3.1.0">Creating a Theme</a></li><li data-reactid=".12b67issbu2.1.0.0.0.3.2"><a href="/manual/plugin-word-count" class=" " data-reactid=".12b67issbu2.1.0.0.0.3.2.0">Plugin: Word Count</a></li><li data-reactid=".12b67issbu2.1.0.0.0.3.3"><a href="/manual/flux-architecture" class=" " data-reactid=".12b67issbu2.1.0.0.0.3.3.0">Flux Architecture</a></li><li data-reactid=".12b67issbu2.1.0.0.0.3.4"><a href="/manual/accessing-the-local-database" class=" " data-reactid=".12b67issbu2.1.0.0.0.3.4.0">Accessing the Local Database</a></li><li data-reactid=".12b67issbu2.1.0.0.0.3.5"><a href="/manual/customizing-the-editor" class=" " data-reactid=".12b67issbu2.1.0.0.0.3.5.0">Customizing the Editor</a></li></ul></div></div><div class="twelve wide column doc-content" data-reactid=".12b67issbu2.1.0.1"><div class="ui breadcrumb" data-reactid=".12b67issbu2.1.0.1.0"><a href="/" class="section" data-reactid=".12b67issbu2.1.0.1.0.0">Docs</a><i class="right chevron icon divider" data-reactid=".12b67issbu2.1.0.1.0.1"></i><a href="/manual/" class="section" data-reactid=".12b67issbu2.1.0.1.0.2">Inkdrop Manual</a><i class="right chevron icon divider" data-reactid=".12b67issbu2.1.0.1.0.3"></i><div class="active section" data-reactid=".12b67issbu2.1.0.1.0.4">Accessing Data in the Cloud</div></div><div class="ui divider" data-reactid=".12b67issbu2.1.0.1.1"></div><h1 data-reactid=".12b67issbu2.1.0.1.2:0">Accessing Data in the Cloud</h1><div data-reactid=".12b67issbu2.1.0.1.2:1"><h2><a name="compatible-with-couchdb" class="anchor" href="#compatible-with-couchdb"><i class="linkify icon"></i></a>Compatible with CouchDB</h2><p>Inkdrop provides API to &quot;hack&quot; your note data from remote computer.
It&#39;s called <strong>Data Access API</strong> which is compatible with <a href="http://couchdb.apache.org/">CouchDB</a>.
That means, there&#39;re already tons of libraries for CouchDB and you can choose from them in your favorite language.
We&#39;re using <a href="https://github.com/pouchdb/pouchdb">PouchDB</a> for building the desktop app.</p>
<p>By using this API, you can make your own notebook client app with sync feature or useful utility.</p>
<h2><a name="creating-api-keys" class="anchor" href="#creating-api-keys"><i class="linkify icon"></i></a>Creating API Keys</h2><p>The API key is necessary for both publishing your plugins and accessing your data stored in the cloud.
To create new API key, go to <a href="https://www.inkdrop.info/account/api-keys">API Keys</a> page and push &quot;Create new API key&quot; button.
Generated API key is not stored in the database, so be carefully and don&#39;t lose it.</p>
<h2><a name="getting-your-database-url" class="anchor" href="#getting-your-database-url"><i class="linkify icon"></i></a>Getting your database URL</h2><p>By default, Inkdrop creates a separate database for storing your data in the cloud. It has a URL for each databases.
So you already have a URL to your database after signing up to Inkdrop.</p>
<p>Your database URL can be checked at <code>Preferences -&gt; Sync</code>.
You should see your specific URL on the bottom of pane like this:</p>
<p><img class="ui image" src="/manual/2-1-data-access-api_url.png" title="" alt="Sync Preferences" /></p>
<p>The URL is something like this: <code>https://black.inkdrop.info/user-&lt;user_id&gt;</code></p>
<h2><a name="accessing-your-database" class="anchor" href="#accessing-your-database"><i class="linkify icon"></i></a>Accessing your database</h2><p>Now you can send a request to the URL via HTTPS, but you will get an error as following:</p>
<pre><code class="lang-bash">$ curl https://black.inkdrop.info/user-&lt;user_id&gt;/
{<span class="hljs-string">"error"</span>:<span class="hljs-string">"unauthorized"</span>,<span class="hljs-string">"reason"</span>:<span class="hljs-string">"_reader access is required for this request"</span>}
</code></pre>
<p>Because it&#39;s protected and you can&#39;t access without any credentials.
You need to append your API keys as the credentials with HTTP Basic authentication in the request:</p>
<pre><code>$ curl https://&lt;access_key_id&gt;:&lt;secret_access_key&gt;@black.inkdrop.info/&lt;database_name&gt;/
</code></pre><p>and you will get a response represented with JSON like following:</p>
<pre><code class="lang-JSON">{<span class="hljs-attr">"update_seq"</span>:<span class="hljs-string">"2856-g1AAAAD5eJzLYWBgYMlgTmFQSklKzi9KdUhJMjTUy83PzyvOyMxL1UvOyS9NScwr0ctLLckBqmVKZEiy____f1YSkC0H0qgI12iJT1-SA5BMqodp_YSq1RSf1jwWIMnQAKSAuveDtDNHoDnZiLD-AxD9EOsPZAEAbTlR6A"</span>,<span class="hljs-attr">"db_name"</span>:<span class="hljs-string">"user-***"</span>,<span class="hljs-attr">"sizes"</span>:{<span class="hljs-attr">"file"</span>:<span class="hljs-number">2171762</span>,<span class="hljs-attr">"external"</span>:<span class="hljs-number">361988</span>,<span class="hljs-attr">"active"</span>:<span class="hljs-number">705412</span>},<span class="hljs-attr">"purge_seq"</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">"other"</span>:{<span class="hljs-attr">"data_size"</span>:<span class="hljs-number">361988</span>},<span class="hljs-attr">"doc_del_count"</span>:<span class="hljs-number">94</span>,<span class="hljs-attr">"doc_count"</span>:<span class="hljs-number">218</span>,<span class="hljs-attr">"disk_size"</span>:<span class="hljs-number">2171762</span>,<span class="hljs-attr">"disk_format_version"</span>:<span class="hljs-number">6</span>,<span class="hljs-attr">"data_size"</span>:<span class="hljs-number">705412</span>,<span class="hljs-attr">"compact_running"</span>:<span class="hljs-literal">false</span>,<span class="hljs-attr">"instance_start_time"</span>:<span class="hljs-string">"0"</span>}
</code></pre>
<p>Now you got access to your database.
See <a href="http://docs.couchdb.org/en/1.6.1/api/">CouchDB documentation</a> for detailed API specifications.</p>
</div><div data-reactid=".12b67issbu2.1.0.1.3"><h2 data-reactid=".12b67issbu2.1.0.1.3.0">Can you help us improve these docs?</h2><p data-reactid=".12b67issbu2.1.0.1.3.1"><span data-reactid=".12b67issbu2.1.0.1.3.1.0">The source of these docs is </span><a href="https://github.com/inkdropapp/docs" data-reactid=".12b67issbu2.1.0.1.3.1.1">here</a><span data-reactid=".12b67issbu2.1.0.1.3.1.2"> on GitHub. If you see a way these docs can be improved, please fork us!</span></p></div></div></div></div><footer class="app--footer" data-reactid=".12b67issbu2.2"><div class="app--footer-content ui container" data-reactid=".12b67issbu2.2.0"><div class="ui stackable grid" data-reactid=".12b67issbu2.2.0.0"><div class="thirteen wide column links" data-reactid=".12b67issbu2.2.0.0.0"><ul class="links" data-reactid=".12b67issbu2.2.0.0.0.0"><li data-reactid=".12b67issbu2.2.0.0.0.0.0"><a href="/terms" data-reactid=".12b67issbu2.2.0.0.0.0.0.0">Terms of Use</a></li><li data-reactid=".12b67issbu2.2.0.0.0.0.1"><a href="/privacy" data-reactid=".12b67issbu2.2.0.0.0.0.1.0">Privacy Policy</a></li><li data-reactid=".12b67issbu2.2.0.0.0.0.2"><a href="/faq" data-reactid=".12b67issbu2.2.0.0.0.0.2.0">FAQ</a></li><li data-reactid=".12b67issbu2.2.0.0.0.0.3"><a href="mailto:inkdrop@pkpk.info" data-reactid=".12b67issbu2.2.0.0.0.0.3.0">Contact</a></li><li data-reactid=".12b67issbu2.2.0.0.0.0.4"><a href="https://twitter.com/inkdrop_app" target="_blank" data-reactid=".12b67issbu2.2.0.0.0.0.4.0">Twitter</a></li><li data-reactid=".12b67issbu2.2.0.0.0.0.5"><a href="https://medium.com/@inkdrop" target="_blank" data-reactid=".12b67issbu2.2.0.0.0.0.5.0">Blog</a></li></ul></div><div class="three wide column text-left" data-reactid=".12b67issbu2.2.0.0.1"><a href="http://odoruinu.net/" target="_blank" data-reactid=".12b67issbu2.2.0.0.1.0">© Takuya Matsuyama</a></div></div></div></footer></div></div><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='https://www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create','UA-58709134-3','auto');</script></body></html>